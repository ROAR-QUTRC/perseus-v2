<?xml version="1.0"?>
<robot name="chassis" xmlns:xacro="http://ros.org/wiki/xacro">
  <xacro:property name="chassis_mass" value="2.7689940302592726"/>  <!-- Kg -->

  <link name="${prefix}chassis">
    <inertial>
      <origin xyz="${-chassis_length/scale_factor*0.5} 0.0 ${chassis_height/scale_factor*0.5}" rpy="0 0.0 0.0"/>
      <mass value="${chassis_mass}"/>
      <xacro:box_inertia m="${chassis_mass}" x="${chassis_length/scale_factor}" y="${chassis_width/scale_factor}" z="${chassis_height/scale_factor}"/>
    </inertial>
    <visual>
      <origin xyz="0.0 0.0 0.0" rpy="0 0.0 -${pi/2}"/>
      <geometry>
        <mesh scale="${0.1/scale_factor} ${0.1/scale_factor}  ${0.1/scale_factor}" filename="file://$(find perseus_description)/meshes/chassis.dae"/>
      </geometry>
    </visual>
    
    <collision>
      <origin xyz="${-chassis_length/scale_factor*0.5} 0.0 ${chassis_height/scale_factor*0.5}" rpy="0 0.0 0"/>
      <!-- Modified to make collision more simple, chassis mesh replaced with box -->
      <geometry>
        <box size="${chassis_length/scale_factor} ${chassis_width/scale_factor} ${chassis_height/scale_factor}"/>
      </geometry>
    </collision>
  </link>



  <gazebo reference="${prefix}chassis">
      <material>Gazebo/Grey</material>
      <sensor name="imu_sensor" type="imu">
          <always_on>1</always_on>
          <update_rate>10</update_rate>
          <visualize>true</visualize>
          <topic>imu</topic>
      </sensor>
  </gazebo>

  
</robot>